<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<title>AI é¡§å•</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", Roboto, "Helvetica Neue", sans-serif;
  background: #f5f7fa;
  color: #1a1a1a;
  margin: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Header - å°ˆæ¥­é¢¨æ ¼ */
header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 14px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
  z-index: 100;
}

header h1 {
  font-size: 18px;
  font-weight: 600;
  color: white;
  display: flex;
  align-items: center;
  gap: 8px;
}

header h1::before {
  content: "ğŸ¤–";
  font-size: 20px;
}

.model-info {
  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(10px);
  padding: 5px 14px;
  border-radius: 16px;
  font-size: 11px;
  color: white;
  font-weight: 500;
  border: 1px solid rgba(255,255,255,0.3);
}

/* Chat Container - å°ˆæ¥­é¢¨æ ¼ */
#log {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  background: linear-gradient(to bottom, #f5f7fa 0%, #e8ecf1 100%);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

#log::-webkit-scrollbar {
  width: 6px;
}

#log::-webkit-scrollbar-track {
  background: transparent;
}

#log::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 3px;
}

#log::-webkit-scrollbar-thumb:hover {
  background: #999;
}

/* Message Bubbles - LINE é¢¨æ ¼ */
.message-container {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  margin-bottom: 4px;
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message-container.user {
  flex-direction: row-reverse;
}

/* Avatar - åœ“å½¢ */
.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 600;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.avatar.user {
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
}

.avatar.assistant {
  background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(6, 182, 212, 0.3);
}

/* Message Bubble */
.message-bubble {
  max-width: 100%;
  padding: 10px 14px;
  border-radius: 18px;
  line-height: 1.6;
  font-size: 15px;
  word-wrap: break-word;
  word-break: normal;
  overflow-wrap: break-word;
  position: relative;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  white-space: pre-wrap;
  display: block;
}

.message-container.user .message-bubble {
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  color: white;
  border-bottom-right-radius: 4px;
  box-shadow: 0 2px 8px rgba(79, 70, 229, 0.2);
}

.message-container.assistant .message-bubble {
  background: #ffffff;
  color: #1a1a1a;
  border-bottom-left-radius: 4px;
  border: 1px solid #e2e8f0;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.message-time {
  font-size: 11px;
  color: #999;
  margin-top: 4px;
  text-align: right;
}

.message-container.assistant .message-time {
  text-align: left;
  color: #999;
}

/* Source Info */
.source-info {
  font-size: 11px;
  color: #999;
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid #f0f0f0;
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Suggestion Buttons - ChatGPT é¢¨æ ¼ */
.suggestion-buttons {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.suggestion-button {
  background: #ffffff;
  border: 1.5px solid #e2e8f0;
  border-radius: 20px;
  padding: 10px 18px;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 14px;
  color: #4f46e5;
  font-weight: 500;
  white-space: nowrap;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.suggestion-button:hover {
  background: #f8fafc;
  border-color: #4f46e5;
  color: #4f46e5;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.15);
}

/* Weather City Cards */
.weather-city-cards {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 8px;
}

.weather-city-card {
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  border: none;
  border-radius: 12px;
  padding: 14px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
  color: white;
  font-weight: 600;
  font-size: 14px;
  box-shadow: 0 2px 8px rgba(79, 70, 229, 0.25);
}

.weather-city-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(79, 70, 229, 0.35);
}

/* Weather Display Card */
.weather-display-card {
  background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
  border-radius: 16px;
  padding: 18px;
  margin-top: 12px;
  color: white;
  box-shadow: 0 4px 16px rgba(6, 182, 212, 0.25);
}

.weather-display-card h3 {
  font-size: 16px;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.weather-info {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 10px;
}

.weather-info-item {
  background: rgba(255, 255, 255, 0.2);
  padding: 10px;
  border-radius: 8px;
  backdrop-filter: blur(10px);
}

.weather-info-item strong {
  display: block;
  font-size: 11px;
  opacity: 0.9;
  margin-bottom: 4px;
}

.weather-info-item span {
  font-size: 16px;
  font-weight: 600;
}

/* Input Area - LINE é¢¨æ ¼ */
footer {
  background: #ffffff;
  border-top: 1px solid #e2e8f0;
  padding: 14px 20px;
  box-shadow: 0 -2px 12px rgba(0,0,0,0.06);
}

.input-container {
  max-width: 100%;
  display: flex;
  align-items: flex-end;
  gap: 8px;
}

.input-wrapper {
  flex: 1;
  background: #f8fafc;
  border: 1.5px solid #e2e8f0;
  border-radius: 24px;
  padding: 12px 18px;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.2s;
}

.input-wrapper:focus-within {
  background: #ffffff;
  border-color: #4f46e5;
  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

textarea {
  flex: 1;
  background: transparent;
  border: none;
  color: #333;
  font-size: 15px;
  font-family: inherit;
  resize: none;
  outline: none;
  min-height: 24px;
  max-height: 120px;
  line-height: 1.5;
  padding: 0;
}

textarea::placeholder {
  color: #999;
}

/* File Upload Button */
.file-upload-btn {
  background: transparent;
  border: none;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 50%;
  transition: all 0.2s;
  color: #666;
  font-size: 20px;
  flex-shrink: 0;
}

.file-upload-btn:hover {
  background: #e2e8f0;
  color: #4f46e5;
}

.file-upload-btn::before {
  content: "ğŸ“";
}

#fileInput {
  display: none;
}

.send-button {
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  border: none;
  border-radius: 50%;
  width: 38px;
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
  flex-shrink: 0;
  color: white;
  font-size: 18px;
  box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
}

.send-button:hover:not(:disabled) {
  background: linear-gradient(135deg, #4338ca 0%, #6d28d9 100%);
  transform: scale(1.08);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
}

.send-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.send-button::before {
  content: "â¤";
}

/* Thinking Animation */
.thinking {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #999;
  font-size: 14px;
  padding: 10px 14px;
}

.thinking-dots {
  display: inline-flex;
  gap: 4px;
}

.thinking-dots span {
  width: 6px;
  height: 6px;
  background: #999;
  border-radius: 50%;
  animation: thinking 1.4s infinite;
}

.thinking-dots span:nth-child(2) {
  animation-delay: 0.2s;
}

.thinking-dots span:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes thinking {
  0%, 60%, 100% {
    transform: translateY(0);
    opacity: 0.5;
  }
  30% {
    transform: translateY(-6px);
    opacity: 1;
  }
}

/* Model Info Footer */
.model-footer {
  background: #f8fafc;
  border-top: 1px solid #e2e8f0;
  padding: 10px 20px;
  font-size: 11px;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: 500;
}

/* Responsive */
@media (max-width: 768px) {
  .message-bubble {
    max-width: 85%;
  }
  
  .weather-city-cards {
    grid-template-columns: repeat(3, 1fr);
  }
}
</style>
</head>

<body>
<header>
  <h1>AI é¡§å•</h1>
  <div id="engine" class="model-info">æº–å‚™ä¸­</div>
</header>

<div id="log"></div>

<footer>
  <div class="input-container">
    <button class="file-upload-btn" onclick="document.getElementById('fileInput').click()" title="ä¸Šå‚³æª”æ¡ˆ"></button>
    <input type="file" id="fileInput" multiple accept="*/*" onchange="handleFileUpload(event)">
    <div class="input-wrapper">
      <textarea id="msg" placeholder="è¼¸å…¥è¨Šæ¯..." rows="1"></textarea>
    </div>
    <button id="sendBtn" class="send-button" onclick="send()" title="é€å‡º"></button>
  </div>
  <div class="model-footer">
    <span>ğŸ¤– <span id="modelName">æº–å‚™ä¸­</span></span>
    <span id="modelDetails"></span>
  </div>
</footer>

<script>
const log = document.getElementById("log");
const msg = document.getElementById("msg");
const engineEl = document.getElementById("engine");
const modelNameEl = document.getElementById("modelName");
const modelDetailsEl = document.getElementById("modelDetails");
const sendBtn = document.getElementById("sendBtn");
let sessionId = "";
let thinkingEl = null;

function humanEngineLabel(engine, modelInfo) {
  if (modelInfo) {
    const provider = modelInfo.provider || "";
    const model = modelInfo.model || "";
    
    if (provider === "Hugging Face") {
      return `ğŸ¤— ${model.split("/").pop()}`;
    } else if (provider === "OpenAI") {
      return `ğŸ§  ${model}`;
    } else if (provider === "CWA") {
      return `â˜€ï¸ å¤©æ°£`;
    }
    return model;
  }
  
  const map = {
    "huggingface+rag": "ğŸ¤— Hugging Face",
    "chatgpt+rag": "ğŸ§  ChatGPT",
    "weather": "â˜€ï¸ å¤©æ°£",
    "error": "âš ï¸ éŒ¯èª¤"
  };
  return map[engine] || "æº–å‚™ä¸­";
}

function setEngine(engine, modelInfo) {
  const label = humanEngineLabel(engine, modelInfo);
  engineEl.textContent = label;
  modelNameEl.textContent = label;
  
  if (modelInfo) {
    modelDetailsEl.textContent = `${modelInfo.provider || ""} - ${modelInfo.api || ""}`;
  } else {
    modelDetailsEl.textContent = "";
  }
}

function escapeHtml(str) {
  return String(str ?? "")
    .replaceAll("&", "&amp;")
    .replaceAll("<", "&lt;")
    .replaceAll(">", "&gt;")
    .replaceAll('"', "&quot;")
    .replaceAll("'", "&#039;");
}

function formatMessage(text) {
  if (!text) return "";
  
  // è½‰æ›ç‚ºå­—ä¸²
  let formatted = String(text);
  
  // çµ±ä¸€æ›è¡Œç¬¦
  formatted = formatted.replace(/\r\n/g, "\n").replace(/\r/g, "\n");
  
  // è½‰ç¾© HTMLï¼ˆé€™æœƒä¿ç•™æ›è¡Œç¬¦ï¼‰
  formatted = escapeHtml(formatted);
  
  // å°‡æ›è¡Œè½‰ç‚º <br>
  formatted = formatted.replace(/\n/g, "<br>");
  
  return formatted;
}

function getCurrentTime() {
  const now = new Date();
  return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
}

function addMessage(role, content, modelInfo = null) {
  const container = document.createElement("div");
  container.className = `message-container ${role}`;
  
  const avatar = document.createElement("div");
  avatar.className = `avatar ${role}`;
  avatar.textContent = role === "user" ? "ä½ " : "AI";
  
  const messageWrapper = document.createElement("div");
  messageWrapper.style.display = "flex";
  messageWrapper.style.flexDirection = "column";
  messageWrapper.style.maxWidth = "70%";
  messageWrapper.style.flex = "0 0 auto";
  
  const bubble = document.createElement("div");
  bubble.className = "message-bubble";
  bubble.innerHTML = formatMessage(content);
  
  const time = document.createElement("div");
  time.className = "message-time";
  time.textContent = getCurrentTime();
  
  // å¦‚æœæ˜¯ bot å›è¦†ä¸”æœ‰æ¨¡å‹è³‡è¨Šï¼Œé¡¯ç¤ºä¾†æº
  if (role === "assistant" && modelInfo) {
    const sourceInfo = document.createElement("div");
    sourceInfo.className = "source-info";
    sourceInfo.innerHTML = `ğŸ“Œ ${modelInfo.provider || ""} - ${modelInfo.model || ""}`;
    bubble.appendChild(sourceInfo);
  }
  
  messageWrapper.appendChild(bubble);
  messageWrapper.appendChild(time);
  container.appendChild(avatar);
  container.appendChild(messageWrapper);
  log.appendChild(container);
  
  // è‡ªå‹•æ»¾å‹•åˆ°åº•éƒ¨
  scrollToBottom();
  
  return bubble;
}

function scrollToBottom() {
  setTimeout(() => {
    log.scrollTop = log.scrollHeight;
  }, 100);
}

function addThinking() {
  const container = document.createElement("div");
  container.className = "message-container assistant";
  
  const avatar = document.createElement("div");
  avatar.className = "avatar assistant";
  avatar.textContent = "AI";
  
  const messageWrapper = document.createElement("div");
  messageWrapper.style.display = "flex";
  messageWrapper.style.flexDirection = "column";
  
  const thinking = document.createElement("div");
  thinking.className = "thinking";
  thinking.innerHTML = `
    <span>æ­£åœ¨è¼¸å…¥</span>
    <div class="thinking-dots">
      <span></span><span></span><span></span>
    </div>
  `;
  
  messageWrapper.appendChild(thinking);
  container.appendChild(avatar);
  container.appendChild(messageWrapper);
  log.appendChild(container);
  scrollToBottom();
  
  return container;
}

function addSuggestionButtons(suggestions, bubble) {
  if (!suggestions || suggestions.length === 0) return;
  
  const buttonsContainer = document.createElement("div");
  buttonsContainer.className = "suggestion-buttons";
  
  suggestions.forEach(suggestion => {
    const button = document.createElement("button");
    button.className = "suggestion-button";
    button.textContent = suggestion;
    button.onclick = () => {
      buttonsContainer.remove();
      send(suggestion);
    };
    buttonsContainer.appendChild(button);
  });
  
  bubble.appendChild(buttonsContainer);
}

function addWeatherCityCards(bubble) {
  const cities = ["å°åŒ—", "æ–°åŒ—", "æ¡ƒåœ’", "æ–°ç«¹", "å°ä¸­", "å°å—", "é«˜é›„", "èŠ±è“®", "å°æ±"];
  
  const cardsContainer = document.createElement("div");
  cardsContainer.className = "weather-city-cards";
  
  cities.forEach(city => {
    const card = document.createElement("div");
    card.className = "weather-city-card";
    card.textContent = city;
    card.onclick = () => {
      cardsContainer.remove();
      send(`${city}å¤©æ°£`);
    };
    cardsContainer.appendChild(card);
  });
  
  bubble.appendChild(cardsContainer);
}

function addWeatherDisplay(weatherData) {
  const container = document.createElement("div");
  container.className = "message-container assistant";
  
  const avatar = document.createElement("div");
  avatar.className = "avatar assistant";
  avatar.textContent = "AI";
  
  const messageWrapper = document.createElement("div");
  messageWrapper.style.display = "flex";
  messageWrapper.style.flexDirection = "column";
  messageWrapper.style.maxWidth = "70%";
  
  const weatherCard = document.createElement("div");
  weatherCard.className = "weather-display-card";
  weatherCard.innerHTML = `
    <h3>â˜€ï¸ ${weatherData.city || "å¤©æ°£è³‡è¨Š"}</h3>
    <div class="weather-info">
      <div class="weather-info-item">
        <strong>ğŸŒ¡ æ°£æº«</strong>
        <span>${weatherData.temp || weatherData.temperature || "N/A"}</span>
      </div>
      <div class="weather-info-item">
        <strong>ğŸŒ§ é™é›¨æ©Ÿç‡</strong>
        <span>${weatherData.rain || "N/A"}%</span>
      </div>
    </div>
  `;
  
  const time = document.createElement("div");
  time.className = "message-time";
  time.textContent = getCurrentTime();
  
  messageWrapper.appendChild(weatherCard);
  messageWrapper.appendChild(time);
  container.appendChild(avatar);
  container.appendChild(messageWrapper);
  log.appendChild(container);
  scrollToBottom();
}

// è‡ªå‹•èª¿æ•´ textarea é«˜åº¦
function adjustTextareaHeight() {
  msg.style.height = "auto";
  msg.style.height = Math.min(msg.scrollHeight, 120) + "px";
}

msg.addEventListener("input", adjustTextareaHeight);

// æª”æ¡ˆä¸Šå‚³è™•ç†
async function handleFileUpload(event) {
  const files = event.target.files;
  if (files.length === 0) return;
  
  // é¡¯ç¤ºä¸Šå‚³ä¸­çš„è¨Šæ¯
  Array.from(files).forEach(file => {
    addMessage("user", `ğŸ“ ä¸Šå‚³ä¸­: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`);
  });
  
  // ä¸Šå‚³æª”æ¡ˆ
  try {
    const formData = new FormData();
    Array.from(files).forEach(file => {
      formData.append("files", file);
    });
    
    const response = await fetch("/api/upload", {
      method: "POST",
      body: formData
    });
    
    const result = await response.json();
    
    if (result.ok) {
      // æ›´æ–°è¨Šæ¯ç‚ºæˆåŠŸ
      const lastUserMsg = log.querySelector(".message-container.user:last-child .message-bubble");
      if (lastUserMsg) {
        lastUserMsg.innerHTML = `ğŸ“ å·²ä¸Šå‚³: ${result.files.map(f => f.name).join(", ")}`;
      }
      
      // AI å›æ‡‰
      addMessage("assistant", `å·²æ”¶åˆ° ${result.files.length} å€‹æª”æ¡ˆï¼æˆ‘å¯ä»¥å¹«ä½ è™•ç†é€™äº›æª”æ¡ˆã€‚`, null);
    } else {
      addMessage("assistant", `ä¸Šå‚³å¤±æ•—ï¼š${result.error || "æœªçŸ¥éŒ¯èª¤"}`, null);
    }
  } catch (error) {
    addMessage("assistant", `ä¸Šå‚³å¤±æ•—ï¼š${error.message}`, null);
  }
  
  // é‡ç½® input
  event.target.value = "";
}

async function send(text) {
  const content = text || msg.value.trim();
  if (!content) return;
  
  msg.value = "";
  msg.style.height = "auto";
  
  // ç§»é™¤æ‰€æœ‰å»ºè­°æŒ‰éˆ•å’Œå¡ç‰‡
  document.querySelectorAll(".suggestion-buttons, .weather-city-cards").forEach(el => el.remove());
  
  // é¡¯ç¤ºç”¨æˆ¶è¨Šæ¯
  addMessage("user", content);
  
  // é¡¯ç¤ºæ€è€ƒä¸­
  sendBtn.disabled = true;
  msg.disabled = true;
  thinkingEl = addThinking();
  
  let d = null;
  try {
    const r = await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: content, sessionId })
    });
    d = await r.json();
  } catch (e) {
    d = {
      engine: "error",
      reply: "é€£ç·šå¤±æ•— ğŸ˜µ è«‹ç¢ºèª server æ˜¯å¦æ­£åœ¨åŸ·è¡Œã€‚",
      modelInfo: { model: "ç³»çµ±éŒ¯èª¤", api: "æœ¬åœ°", provider: "System" }
    };
  }
  
  // ç§»é™¤æ€è€ƒä¸­
  if (thinkingEl) {
    thinkingEl.remove();
    thinkingEl = null;
  }
  sendBtn.disabled = false;
  msg.disabled = false;
  
  sessionId = d.sessionId || sessionId;
  setEngine(d.engine, d.modelInfo);
  
  // é¡¯ç¤ºå›è¦†
  const bubble = addMessage("assistant", d.reply, d.modelInfo);
  
  // å¦‚æœéœ€è¦é¡¯ç¤ºåŸå¸‚é¸æ“‡å¡ç‰‡
  if (d.showCityCards || (d.engine === "weather" && (d.reply.includes("ç¸£å¸‚") || d.reply.includes("åŸå¸‚") || d.reply.includes("é¸æ“‡")))) {
    addWeatherCityCards(bubble);
  }
  
  // å¦‚æœæœ‰å»ºè­°å•é¡Œï¼Œé¡¯ç¤ºæŒ‰éˆ•ï¼ˆChatGPT é¢¨æ ¼ï¼‰
  if (d.suggestions && d.suggestions.length > 0) {
    addSuggestionButtons(d.suggestions, bubble);
  }
  
  // å¦‚æœæœ‰å¤©æ°£è³‡æ–™ï¼Œé¡¯ç¤ºå¤©æ°£å¡ç‰‡
  if (d.type === "weather-card" && d.data) {
    addWeatherDisplay(d.data);
  }
  
  msg.focus();
}

// éµç›¤äº‹ä»¶
msg.addEventListener("keydown", e => {
  if (e.key === "Enter" && !e.shiftKey) {
    e.preventDefault();
    send();
  }
});

// é¦–æ¬¡è¼‰å…¥
window.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {
    const bubble = addMessage(
      "assistant",
      "ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„ AI èŠå¤©åŠ©æ‰‹ ğŸ¤–\n\næˆ‘å¯ä»¥å¹«ä½ ï¼š\nâ€¢ æŸ¥è©¢å¤©æ°£è³‡è¨Š\nâ€¢ èŠå¤©å°è©±\nâ€¢ å›ç­”å„ç¨®å•é¡Œ\n\næœ‰ä»€éº¼æˆ‘å¯ä»¥å¹«ä½ çš„å—ï¼Ÿ",
      null
    );
    
    const welcomeSuggestions = [
      "ä»Šå¤©å°åŒ—å¤©æ°£å¦‚ä½•ï¼Ÿ",
      "æ¨è–¦ä¸€äº›æ”¾é¬†å¿ƒæƒ…çš„æ–¹æ³•",
      "èŠèŠæœ€è¿‘çš„ç”Ÿæ´»",
      "æœ‰ä»€éº¼æœ‰è¶£çš„è©±é¡Œï¼Ÿ"
    ];
    
    addSuggestionButtons(welcomeSuggestions, bubble);
  }, 300);
});
</script>
</body>
</html>
